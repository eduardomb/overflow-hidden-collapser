!function(e){"use strict";e.fn.overflowHiddenCollapser=function(n){n=e.extend({hiddenMenuClass:"",moreBtSelector:""},n);var t,i=e(this),o=e("<div>").hide().addClass(n.hiddenMenuClass),d=e(n.moreBtSelector),l=e(window),c=l.width(),r=function(e){return e.position().top<i.height()},s=function(){return o.children().not(":last-child").first()},h=function(){return i.children().not(d).last()},a=function(){for(;!r(d)&&h().length;)o.prepend(h().detach())},f=function(){for(;r(d)&&s().length;)d.before(s().detach());!r(d)&&h().length&&o.prepend(h().detach())},u=function(){var e,n=l.width();d.css({display:"block"}),n>c?f():a(),2==o.children().length&&(e=s(),d.before(e.detach()),r(e)||o.prepend(e.detach())),d.css({display:s().length?"block":"none"}),c=n};d.length||(d=e("<div>").text("...").css({"float":"left","line-height":i.height()+"px"}),i.append(d)),i.after(o),o.append(e("<div>").css("clear","both")),d.click(function(){o.is(":visible")?o.slideUp():o.slideDown()}),e(window).resize(function(){clearTimeout(t),t=setTimeout(u,300)}),u()}}(jQuery);